#include <iostream>
#include <climits>
using namespace std;

int n, res, mx = INT_MIN, mn = INT_MAX;
int lft[4]; // num of operators left
int arr[15]; // store integer values
int op[15];  // actual allocations of operators between values

void func(int k) {
	//cout << "k: " << k << '\n';
    if (k == n-1) { // when every operator is allocated
    	//cout << "k hit n" << '\n';
        // calculate the result
        int res = arr[0];
        for (int i = 1; i < n; i++) {
        	if (op[i-1] == 0) res += arr[i];
        	else if (op[i-1] == 1) res -= arr[i];
        	else if (op[i-1] == 2) res *= arr[i];
        	else if (op[i-1] == 3) {
        		if (res < 0) res = -(-res / arr[i]);  // C++14
                else res /= arr[i];
        	}
        	//cout << "res: " << res << '\n';
        }

        if (res > mx){
        	mx = res; // if greatest, update
        	//cout << "max updated: " << mx << '\n';
        } 
        else if (res < mn){
        	mn = res; // if least, update
        	//cout << "min updated: " << mn << '\n';
        } 
        return;
    }

    for (int i = 0; i < 4; i++) {
        if (lft[i] == 0) continue;
        lft[i]--;
        op[k] = i;
        func(k + 1);
        lft[i]++;
    }
}

int main() {
    cin >> n;

    for (int i = 0; i < n; i++) 
        cin >> arr[i]; // store values
    for (int i = 0; i < 4; i++) 
        cin >> lft[i]; // store operators left
        func(0);
        
        if (mn == INT_MAX) mn = mx;
        if (mx == INT_MIN) mx = mn;
        cout << mx << '\n';
        cout << mn << '\n';
}
